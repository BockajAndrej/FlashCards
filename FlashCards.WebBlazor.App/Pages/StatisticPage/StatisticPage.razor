@page "/StatisticPage"
@using FlashCards.WebBlazor.Bl.ApiClient
@using FlashCards.WebBlazor.Bl.Facades

<MudPaper
    Style="width: 95%; padding: 20px; margin: 20px auto; background-color: var(--card-background-Primary); border-radius: 15px;">
    <MudText Style="color: var(--card-text-Primary); margin-top: -2px" Typo="Typo.h6">Vysledky</MudText>
</MudPaper>

<MudStack Style="width: 95%; margin: 0 auto;" Row Wrap="Wrap.Wrap">
    <MudPaper Style="background-color: var(--card-background-Primary); border-radius: 10px; padding: 10px;)">
        <MudChart  Style="color: white" ChartType="ChartType.Pie" InputData="@data" @bind-SelectedIndex="Index" InputLabels="@labels" Width="300px" Height="300px" />
    </MudPaper>
    
    <MudPaper Style="background-color: var(--card-background-Primary); border-radius: 10px; padding: 10px; color: white">
        <MudChart Style="color: white;" ChartType="ChartType.StackedBar" ChartSeries="@_series" @bind-SelectedIndex="_index" LegendPosition="Position.Bottom" XAxisLabels="@_xAxisLabels" Width="650" Height="300"></MudChart>
    </MudPaper>
</MudStack>

@code {
    [Inject] private CollectionWebFacade CollectionWebFacade { get; set; } = null!;
    [Inject] private RecordWebFacade CompletedLessonWebFacade { get; set; } = null!;
    [Inject] public NavigationManager Navigation { get; set; } = null!;
    
    private RecordDetailModel recordDetailModel { get; set; }
    
    private int Index = -1;
    string[] labels = { "Uranium", "Plutonium", "Thorium", "Caesium", "Technetium", "Promethium",
        "Polonium", "Astatine", "Radon", "Francium", "Radium", "Actinium", "Protactinium",
        "Neptunium", "Americium", "Curium", "Berkelium", "Californium", "Einsteinium", "Mudblaznium" };
    
    double[] data = { 77, 23 };
    
    private int _index = -1;
    private List<ChartSeries> _series = new List<ChartSeries>()
    {
        new () { Name = "United States", Data = new double[] { 40, 20, 25, 27, 46, 60, 48, 80, 15 } },
        new () { Name = "Germany", Data = new double[] { 19, 24, 35, 13, 28, 15, 13, 16, 31 } },
        new () { Name = "Sweden", Data = new double[] { 8, 6, 11, 13, 4, 16, 10, 16, 18 } },
    };
    private string[] _xAxisLabels = { "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep" };
}